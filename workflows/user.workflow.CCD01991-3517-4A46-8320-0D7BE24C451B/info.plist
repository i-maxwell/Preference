<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE plist PUBLIC "-//Apple//DTD PLIST 1.0//EN" "http://www.apple.com/DTDs/PropertyList-1.0.dtd">
<plist version="1.0">
<dict>
	<key>bundleid</key>
	<string>com.tencent.mnet</string>
	<key>category</key>
	<string>Tools</string>
	<key>connections</key>
	<dict>
		<key>25ADC60F-F2E5-46BB-B77A-F8B537131E77</key>
		<array/>
		<key>65C12F11-2E35-40FD-A09D-15675ADD1B01</key>
		<array>
			<dict>
				<key>destinationuid</key>
				<string>25ADC60F-F2E5-46BB-B77A-F8B537131E77</string>
				<key>modifiers</key>
				<integer>0</integer>
				<key>modifiersubtext</key>
				<string></string>
				<key>vitoclose</key>
				<false/>
			</dict>
		</array>
	</dict>
	<key>createdby</key>
	<string>murphyyang</string>
	<key>description</key>
	<string>登录跳板机</string>
	<key>disabled</key>
	<false/>
	<key>name</key>
	<string>gz_mnet</string>
	<key>objects</key>
	<array>
		<dict>
			<key>config</key>
			<dict>
				<key>applescript</key>
				<string>on alfred_script(q)
	if application "iTerm2" is running or application "iTerm" is running then
		run script "
			on run {q}
				tell application \"iTerm\"
					activate
					try
						select first window
					on error
						create window with default profile
						select first window
					end try
					tell the first window
						create tab with default profile
						tell current session to write text q
					end tell
				end tell
			end run
		" with parameters {q}
	else
		run script "
			on run {q}
				tell application \"iTerm\"
					activate
					try
						select first window
					on error
						create window with default profile
						select first window
					end try
					tell the first window
						tell current session to write text q
					end tell
				end tell
			end run
		" with parameters {q}
	end if
end alfred_script</string>
				<key>cachescript</key>
				<false/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.action.applescript</string>
			<key>uid</key>
			<string>25ADC60F-F2E5-46BB-B77A-F8B537131E77</string>
			<key>version</key>
			<integer>1</integer>
		</dict>
		<dict>
			<key>config</key>
			<dict>
				<key>alfredfiltersresults</key>
				<false/>
				<key>alfredfiltersresultsmatchmode</key>
				<integer>0</integer>
				<key>argumenttrimmode</key>
				<integer>0</integer>
				<key>argumenttype</key>
				<integer>0</integer>
				<key>escaping</key>
				<integer>102</integer>
				<key>keyword</key>
				<string>gz</string>
				<key>queuedelaycustom</key>
				<integer>3</integer>
				<key>queuedelayimmediatelyinitially</key>
				<true/>
				<key>queuedelaymode</key>
				<integer>0</integer>
				<key>queuemode</key>
				<integer>1</integer>
				<key>runningsubtext</key>
				<string>loading</string>
				<key>script</key>
				<string>$query = "{query}";

$file = '/Users/murphy.yang/Documents/_.proj/ip_list.php';

require_once $file;

$content = file_get_contents($file);

$response = '&lt;items&gt;';

$keyArr = explode(" ", $query);
foreach ($ip_list as $index =&gt; $item) {
    $isMatch = true;
    foreach ($keyArr as $key) {
        if (!empty($key) &amp;&amp; strpos($item['module'], $key) === FALSE &amp;&amp; strpos($item['tag'], $key) === FALSE) {
            $isMatch = false;
            break;
        }
    }
    $ipArr = explode("\n", $item['ip']);
    foreach ($ipArr as $ip) {
        $isIpMatch = true;
        foreach ($keyArr as $key) {
            if (!empty($key) &amp;&amp; strpos($ip, $key) === FALSE) {
                $isIpMatch = false;
                break;
            }
        }

        if ($isMatch || $isIpMatch) {
            $ip = trim($ip);
            if (!empty($ip)) {
                $response .= '&lt;item autocomplete = "autocompletex" uid = "' . $index . '" arg = "gz_login ' . $ip . '" &gt;' .
                    '&lt;title &gt;' . $ip . '&lt;/title&gt;' .
                    '&lt;subtitle &gt;Module:' . $item['module'] . ';Tag:' . $item['tag'] . '&lt;/subtitle&gt;' .
                    '&lt;icon &gt;&lt;/icon&gt;' .
                    '&lt;/item&gt;';
            }
        }
    }
}

$response .= '&lt;/items&gt;';

echo $response;</string>
				<key>scriptargtype</key>
				<integer>0</integer>
				<key>scriptfile</key>
				<string></string>
				<key>subtext</key>
				<string>登录广州跳板机</string>
				<key>title</key>
				<string>广州跳板机</string>
				<key>type</key>
				<integer>1</integer>
				<key>withspace</key>
				<true/>
			</dict>
			<key>type</key>
			<string>alfred.workflow.input.scriptfilter</string>
			<key>uid</key>
			<string>65C12F11-2E35-40FD-A09D-15675ADD1B01</string>
			<key>version</key>
			<integer>2</integer>
		</dict>
	</array>
	<key>readme</key>
	<string></string>
	<key>uidata</key>
	<dict>
		<key>25ADC60F-F2E5-46BB-B77A-F8B537131E77</key>
		<dict>
			<key>xpos</key>
			<integer>370</integer>
			<key>ypos</key>
			<integer>80</integer>
		</dict>
		<key>65C12F11-2E35-40FD-A09D-15675ADD1B01</key>
		<dict>
			<key>xpos</key>
			<integer>170</integer>
			<key>ypos</key>
			<integer>80</integer>
		</dict>
	</dict>
	<key>webaddress</key>
	<string></string>
</dict>
</plist>
